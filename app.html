<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Tip Calc</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <main class="wrapper">
      <h1>Tip Calc</h1>
      <div class="container">
        <div class="bill">
          <label for="bill-price">Bill</label>
          <input type="number" id="bill-price" placeholder="10.00." min="0">
        </div>
        <div>
          <div class="justify-between">
            <label for="tip-input">Select tip</label>
            <span id="tip-percent">18%</span>
          </div>
          <input type="range" id="tip-input" value="18">
        </div>
        <div class="justify-between">
          <span>Tip</span>
          <span id="tip-amount">$ 1.00</span>
        </div>
        <hr>
        <div class="total justify-between">
          <span>Total</span>
          <span id="total">$ 0.00</span>
        </div>
      </div>
      <div class="container">
        <div>
          <div class="justify-between">
            <label for="split">Split</label>
            <span id="split-number">1 person</span>
          </div>
          <input type="range" id="split" min="1" max="20">
        </div>
        <div class="justify-between">
          <span>Bill each</span>
          <span id="bill-each">$ 0.00</span>
        </div>
        <div class="justify-between">
          <span>Tip each</span>
          <span id="tip-each">$ 0.00</span>
        </div>
      </div>
    </main>

    <script>
      const priceInput = document.querySelector('#bill-price');
      const tipSlider = document.querySelector('#tip-input');
      const tipPercentage = document.querySelector('#tip-percent');

      const totalOutput = document.querySelector('#total');

      function updateTotal() {
        const price = priceInput.value;
        const tip = tipSlider.value;

        const total = price * (1 + tip / 100);
        
        totalOutput.innerHTML = `$ ${total.toFixed(2)}`;
        updateTipPercentage();
        updateTipOutput();
      };

      function updateTipPercentage() {
        const tip = tipSlider.value;

        tipPercentage.innerHTML = `${tip}%`;
      }
      
      function updateTipOutput() {
        const tipOutput = document.querySelector('#tip-amount');
        const price = priceInput.value;
        const tipPercent = tipSlider.value;

        const tip = price * (tipPercent / 100);

        tipOutput.innerHTML = `$ ${tip.toFixed(2)}`;
      }

      const allInputs = document.querySelectorAll('input');
      allInputs.forEach(input => input.addEventListener('input', updateTotal))
      

    </script>
  </body>
</html>